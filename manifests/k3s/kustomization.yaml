apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: transcript-pipeline

# Common labels applied to all resources
commonLabels:
  app: transcript-pipeline
  environment: production
  managed-by: kustomize

# Resources applied in order
resources:
  - 00-namespace.yaml
  - 01-postgres-secret.yaml
  - 02-postgres-config.yaml
  - 03-postgres-schema.yaml
  - 04-postgres-pv.yaml
  - 05-postgres-pvc.yaml
  - 07-postgres-service.yaml
  - 06-postgres-statefulset.yaml
  # Note: 08-init-db-job.yaml is applied separately after StatefulSet is ready
